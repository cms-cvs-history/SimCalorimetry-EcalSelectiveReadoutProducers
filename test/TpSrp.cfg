process TpSrp  = {
   
   # input
   source = PoolSource {
      untracked vstring fileNames = {'file://srp_validation_in.root'}
      untracked int32 maxEvents = -1
      untracked uint32 debugVebosity = 1
      untracked bool   debugFlag     = true
   }

#  module o1 = PoolOutputModule { 
#    untracked string fileName = "srp_validation_in.root"
#
#    untracked vstring outputCommands = 
#    {
#     "keep *"
#    }
#  }
 

  service = MessageLogger {
    untracked vstring destinations = {"cout"}
  }


  service = RandomNumberGeneratorService
  {
     untracked uint32 sourceSeed = 135799753
  }
    

  #Geometry
  #
  #include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"
  include "Geometry/EcalCommonData/data/EcalOnly.cfi"

 # Calo geometry service model
  include "Geometry/CaloEventSetup/data/CaloGeometry.cff"
  include "Geometry/CaloEventSetup/data/EcalTrigTowerConstituents.cfi"


  include "SimCalorimetry/EcalSelectiveReadoutProducers/data/ecalDigis.cfi"

  replace ecalDigis.dumpFlags = 10

 # TPG: defines the ecalTriggerPrimitiveDigis module
  include  "SimCalorimetry/EcalTrigPrimProducers/data/ecalTriggerPrimitiveDigis.cfi"


  path p1 = { ecalDigis }
  
#  endpath outpath = { o1 }
}
